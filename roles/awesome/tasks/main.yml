--- 

- name: Install packages for awesome
  ansible.builtin.apt:
    name:
      - awesome
      - flameshot

- name: Copy configuration
  ansible.builtin.copy:
    src: awesome
    dest: "{{ CONFIG_DIR }}/awesome"

- name: Generate template for colors
  ansible.builtin.template:
    src: colors.lua
    dest: "{{ CONFIG_DIR }}/awesome/colors.lua"

- name: Restart awesome
  ignore_errors: yes
  ansible.builtin.command: >-
    awesome-client 'awesome.restart()'
